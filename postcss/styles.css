@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
  font-size: 16px;
  line-height: 24px;
  font-weight: 400;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;


	/* Base colors */
  --catppuccin-base: #1e1e2e;
  --catppuccin-mantle: #181825;
  --catppuccin-crust: #11111b;
  
  /* Text/Content colors */
  --catppuccin-text: #cdd6f4;
  --catppuccin-subtext0: #a6adc8;
  --catppuccin-subtext1: #bac2de;
  
  /* Surface colors */
  --catppuccin-surface0: #313244;
  --catppuccin-surface1: #45475a;
  --catppuccin-surface2: #585b70;
  
  /* Overlay colors */
  --catppuccin-overlay0: #6c7086;
  --catppuccin-overlay1: #7f849c;
  --catppuccin-overlay2: #9399b2;
  
  /* Accent/Flavor colors */
  --catppuccin-rosewater: #f5e0dc;
  --catppuccin-flamingo: #f2cdcd;
  --catppuccin-pink: #f5c2e7;
  --catppuccin-mauve: #cba6f7;
  --catppuccin-red: #f38ba8;
  --catppuccin-maroon: #eba0ac;
  --catppuccin-peach: #fab387;
  --catppuccin-yellow: #f9e2af;
  --catppuccin-green: #a6e3a1;
  --catppuccin-teal: #94e2d5;
  --catppuccin-sky: #89dceb;
  --catppuccin-sapphire: #74c7ec;
  --catppuccin-blue: #89b4fa;
  --catppuccin-lavender: #b4befe;
  
  /* For daisyUI compatibility - mapped to Catppuccin colors */
  --color-primary: var(--catppuccin-mauve);
  --color-primary-content: var(--catppuccin-base);
  
  --color-secondary: var(--catppuccin-blue);
  --color-secondary-content: var(--catppuccin-base);
  
  --color-accent: var(--catppuccin-pink);
  --color-accent-content: var(--catppuccin-base);
  
  --color-neutral: var(--catppuccin-surface0);
  --color-neutral-content: var(--catppuccin-text);
  
  --color-base-100: var(--catppuccin-base);
  --color-base-200: var(--catppuccin-mantle);
  --color-base-300: var(--catppuccin-crust);
  --color-base-content: var(--catppuccin-text);
  
  --color-info: var(--catppuccin-sapphire);
  --color-info-content: var(--catppuccin-base);
  
  --color-success: var(--catppuccin-green);
  --color-success-content: var(--catppuccin-base);
  
  --color-warning: var(--catppuccin-peach);
  --color-warning-content: var(--catppuccin-base);
  
  --color-error: var(--catppuccin-red);
  --color-error-content: var(--catppuccin-base);
  
  /* Additional semantic variables */
  --color-background: var(--catppuccin-base);
  --color-foreground: var(--catppuccin-text);
  --color-border: var(--catppuccin-surface0);
  --color-ring: var(--catppuccin-mauve);
  --color-input: var(--catppuccin-surface1);
  --color-muted: var(--catppuccin-surface0);
  --color-muted-foreground: var(--catppuccin-subtext0);
  --color-card: var(--catppuccin-surface0);
  --color-card-foreground: var(--catppuccin-text);
  
  /* Border radius */
  --radius: 0.5rem;
  --radius-selector: 0.25rem;
  
  /* Depth/Shadow variables */
  --depth: 0.1;
  --border: 1px;
  --noise: 0.02;
  --fx-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
}

body {
	background-color: var(--catppuccin-base);
	color: var(--catppuccin-text);
}

main {
	padding: 1.5rem;
	max-width: 100vw;
}

.progress-outer-bar {
	position: fixed;
	bottom: 1rem;
	margin-left: 1%;
	margin-right: 1%;
	padding: 0;
	width: 98%;
	background: var(--catppuccin-crust);
	height: .3rem;
	border-radius: 10000px;
}

.checkbox-container {
	display: flex;
	/* justify-content: center; */
	flex-orientation: row;
	/* align-items: start; */
	padding-left: 2rem;
	gap: .75rem;
	height: 1.5rem;
}
.checkbox-label {
	position: relative;
	display: inline;
  padding: 0.25rem;
	margin-top: .5rem;
}

.checkbox {
  border: var(--border) solid var(--input-color, color-mix(in oklab, var(--color-base-content) 20%, #0000));
  color: var(--color-base-content, currentColor);
  border-radius: var(--radius-selector, 0.25rem);
  position: relative;
  display: inline-block;
  flex-shrink: 0;
  cursor: pointer;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 0.25rem;
  vertical-align: middle;
  box-shadow:
    0 1px oklch(0% 0 0 / calc(var(--depth, 1) * 0.1)) inset,
    0 0 #0000 inset,
    0 0 #0000;
  transition:
    background-color 0.2s,
    box-shadow 0.2s;
  --size: calc(var(--size-selector, 0.25rem) * 6);
  width: var(--size);
  height: var(--size);
  background-size: auto, calc(var(--noise, 0) * 100%);
  background-image: none, var(--fx-noise, none);
}

.checkbox::before {
  content: "";
  display: block;
  width: 100%;
  height: 100%;
  transform: rotate(45deg);
  background-color: currentColor;
  opacity: 0;
  transition:
    clip-path 0.3s,
    opacity 0.1s,
    rotate 0.3s,
    translate 0.3s;
  transition-delay: 0.1s;
  clip-path: polygon(20% 100%, 20% 80%, 50% 80%, 50% 80%, 70% 80%, 70% 100%);
  box-shadow: 0px 3px 0 0px oklch(100% 0 0 / calc(var(--depth, 1) * 0.1)) inset;
  font-size: 1rem;
  line-height: 0.75;
}

.checkbox:focus-visible {
  outline: 2px solid var(--input-color, currentColor);
  outline-offset: 2px;
}

.checkbox:checked,
.checkbox[aria-checked="true"] {
  background-color: var(--input-color, #0000);
  box-shadow:
    0 0 #0000 inset,
    0 8px 0 -4px oklch(100% 0 0 / calc(var(--depth, 1) * 0.1)) inset,
    0 1px oklch(0% 0 0 / calc(var(--depth, 1) * 0.1));
}

.checkbox:checked::before,
.checkbox[aria-checked="true"]::before {
  clip-path: polygon(20% 100%, 20% 80%, 50% 80%, 50% 0%, 70% 0%, 70% 100%);
  opacity: 1;
}

@media (forced-colors: active) {
  .checkbox:checked::before,
  .checkbox[aria-checked="true"]::before {
    transform: rotate(0deg);
    background-color: transparent;
    content: "✔︎";
    clip-path: none;
  }
}

@media print {
  .checkbox:checked::before,
  .checkbox[aria-checked="true"]::before {
    transform: rotate(0deg);
    background-color: transparent;
    content: "✔︎";
    clip-path: none;
  }
}

.checkbox:indeterminate {
  background-color: var(--input-color, color-mix(in oklab, var(--color-base-content) 20%, #0000));
}

.checkbox:indeterminate::before {
  transform: rotate(0deg);
  opacity: 1;
  translate: 0 -35%;
  clip-path: polygon(20% 100%, 20% 80%, 50% 80%, 50% 80%, 80% 80%, 80% 100%);
}

/* Color variants */
.checkbox-primary {
  color: var(--color-primary-content, currentColor);
  --input-color: var(--color-primary, currentColor);
}

.checkbox-secondary {
  color: var(--color-secondary-content, currentColor);
  --input-color: var(--color-secondary, currentColor);
}

.checkbox-accent {
  color: var(--color-accent-content, currentColor);
  --input-color: var(--color-accent, currentColor);
}

.checkbox-neutral {
  color: var(--color-neutral-content, currentColor);
  --input-color: var(--color-neutral, currentColor);
}

.checkbox-info {
  color: var(--color-info-content, currentColor);
  --input-color: var(--color-info, currentColor);
}

.checkbox-success {
  color: var(--color-success-content, currentColor);
  --input-color: var(--color-success, currentColor);
}

.checkbox-warning {
  color: var(--color-warning-content, currentColor);
  --input-color: var(--color-warning, currentColor);
}

.checkbox-error {
  color: var(--color-error-content, currentColor);
  --input-color: var(--color-error, currentColor);
}

/* Disabled state */
.checkbox:disabled {
  cursor: not-allowed;
  opacity: 0.2;
}

/* Size variants */
.checkbox-xs {
  padding: 0.125rem;
  --size: calc(var(--size-selector, 0.25rem) * 4);
}

.checkbox-sm {
  padding: 0.1875rem;
  --size: calc(var(--size-selector, 0.25rem) * 5);
}

.checkbox-md {
  padding: 0.25rem;
  --size: calc(var(--size-selector, 0.25rem) * 6);
}

.checkbox-lg {
  padding: 0.3125rem;
  --size: calc(var(--size-selector, 0.25rem) * 7);
}

.checkbox-xl {
  padding: 0.375rem;
  --size: calc(var(--size-selector, 0.25rem) * 8);
}

.collapse:not(td, tr, colgroup) {
  visibility: revert-layer;
}

.collapse {
  @layer daisyui.l1.l2.l3 {
    display: grid;
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-box, 1rem);
    width: 100%;
    grid-template-rows: max-content 0fr;
    grid-template-columns: minmax(0, 1fr);
    isolation: isolate;
    @media (prefers-reduced-motion: no-preference) {
      transition: grid-template-rows 0.2s;
    }

    > input:is([type="checkbox"], [type="radio"]) {
      grid-column-start: 1;
      grid-row-start: 1;
      appearance: none;
      opacity: 0;
    }

    &:is(
      [open],
      [tabindex]:focus:not(.collapse-close),
      [tabindex]:focus-within:not(.collapse-close)
    ),
    &:not(.collapse-close):has(> input:is([type="checkbox"], [type="radio"]):checked) {
      grid-template-rows: max-content 1fr;
    }

    &:is(
        [open],
        [tabindex]:focus:not(.collapse-close),
        [tabindex]:focus-within:not(.collapse-close)
      )
      > .collapse-content,
    &:not(.collapse-close)
      > :where(input:is([type="checkbox"], [type="radio"]):checked ~ .collapse-content) {
      content-visibility: visible;
      min-height: fit-content;
      @supports not (content-visibility: visible) {
        visibility: visible;
      }
    }
    &:focus-visible,
    &:has(> input:is([type="checkbox"], [type="radio"]):focus-visible),
    &:has(summary:focus-visible) {
      outline-color: var(--color-base-content);
      outline-style: solid;
      outline-width: 2px;
      outline-offset: 2px;
    }

    &:not(.collapse-close) {
      > input[type="checkbox"],
      > input[type="radio"]:not(:checked),
      > .collapse-title {
        cursor: pointer;
      }
    }

    &[tabindex]:focus:not(.collapse-close, .collapse[open]),
    &[tabindex]:focus-within:not(.collapse-close, .collapse[open]) {
      > .collapse-title {
        cursor: unset;
      }
    }

    &:is(
        [open],
        [tabindex]:focus:not(.collapse-close),
        [tabindex]:focus-within:not(.collapse-close)
      )
      > :where(.collapse-content),
    &:not(.collapse-close)
      > :where(input:is([type="checkbox"], [type="radio"]):checked ~ .collapse-content) {
      padding-bottom: 1rem;
    }

    > input:is([type="checkbox"], [type="radio"]) {
      z-index: 1;
      width: 100%;
      padding: 1rem;
      padding-inline-end: 3rem;
      min-height: 1lh;
      transition: background-color 0.2s ease-out;
    }
  }

  @layer daisyui.l1.l2 {
    &:is([open]) {
      &.collapse-arrow {
        > .collapse-title:after {
          @media (prefers-reduced-motion: no-preference) {
            transform: translateY(-50%) rotate(225deg);
          }
        }
      }
    }

    &.collapse-open {
      &.collapse-arrow {
        > .collapse-title:after {
          @media (prefers-reduced-motion: no-preference) {
            transform: translateY(-50%) rotate(225deg);
          }
        }
      }
    }

    &[tabindex].collapse-arrow:focus:not(.collapse-close),
    &.collapse-arrow[tabindex]:focus-within:not(.collapse-close) {
      > .collapse-title:after {
        transform: translateY(-50%) rotate(225deg);
      }
    }

    &.collapse-arrow:not(.collapse-close) {
      > input:is([type="checkbox"], [type="radio"]):checked ~ .collapse-title:after {
        transform: translateY(-50%) rotate(225deg);
      }
    }

    &[open] {
      &.collapse-plus {
        > .collapse-title:after {
          --tw-content: "−";
          content: var(--tw-content);
        }
      }
    }

    &.collapse-open {
      &.collapse-plus {
        > .collapse-title:after {
          --tw-content: "−";
          content: var(--tw-content);
        }
      }
    }

    &[tabindex].collapse-plus:focus:not(.collapse-close) {
      > .collapse-title:after {
        --tw-content: "−";
        content: var(--tw-content);
      }
    }

    &.collapse-plus:not(.collapse-close) {
      > input:is([type="checkbox"], [type="radio"]):checked ~ .collapse-title:after {
        --tw-content: "−";
        content: var(--tw-content);
      }
    }
  }
}

.collapse-title,
.collapse-content {
  @layer daisyui.l1.l2.l3 {
    grid-column-start: 1;
    grid-row-start: 1;
  }
}

.collapse-content {
  @layer daisyui.l1.l2.l3 {
    content-visibility: hidden;
    grid-column-start: 1;
    grid-row-start: 2;
    min-height: 0;
    padding-left: 1rem;
    padding-right: 1rem;
    cursor: unset;
    @supports not (content-visibility: hidden) {
      visibility: hidden;
    }
    @media (prefers-reduced-motion: no-preference) {
      transition:
        content-visibility 0.2s allow-discrete,
        visibility 0.2s allow-discrete,
        min-height 0.2s ease-out allow-discrete,
        padding 0.1s ease-out 20ms,
        background-color 0.2s ease-out;
    }
  }
}

.collapse:is(details) {
  @layer daisyui.l1.l2.l3 {
    width: 100%;
    @media (prefers-reduced-motion: no-preference) {
      &::details-content {
        transition:
          content-visibility 0.2s allow-discrete,
          visibility 0.2s allow-discrete,
          min-height 0.2s ease-out allow-discrete,
          padding 0.1s ease-out 20ms,
          background-color 0.2s ease-out,
          height 0.2s;
        height: 0;
        interpolate-size: allow-keywords;
      }

      &:where([open])::details-content {
        height: auto;
      }
    }
    & summary {
      position: relative;
      display: block;

      &::-webkit-details-marker {
        display: none;
      }
    }

    & > .collapse-content {
      content-visibility: visible;
    }
  }
}

.collapse:is(details) summary {
  @layer daisyui.l1.l2.l3 {
    outline: none;
  }
}

.collapse-arrow {
  @layer daisyui.l1.l2 {
    > .collapse-title:after {
      position: absolute;
      display: block;
      height: 0.5rem;
      width: 0.5rem;
      transform: translateY(-100%) rotate(45deg);
      @media (prefers-reduced-motion: no-preference) {
        transition-property: all;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        transition-duration: 0.2s;
      }
      top: 50%;
      inset-inline-end: 1.4rem;
      content: "";
      transform-origin: 75% 75%;
      box-shadow: 2px 2px;
      pointer-events: none;
    }
  }
}

.collapse-plus {
  @layer daisyui.l1.l2 {
    > .collapse-title:after {
      position: absolute;
      display: block;
      height: 0.5rem;
      width: 0.5rem;
      @media (prefers-reduced-motion: no-preference) {
        transition-property: all;
        transition-duration: 300ms;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      }
      top: 0.9rem;
      inset-inline-end: 1.4rem;
      --tw-content: "+";
      content: var(--tw-content);
      pointer-events: none;
    }
  }
}

.collapse-title {
  @layer daisyui.l1.l2.l3 {
    position: relative;

    width: 100%;
    padding: 1rem;
    padding-inline-end: 3rem;
    min-height: 1lh;
    transition: background-color 0.2s ease-out;
  }
}

.collapse-label {
	position: absolute;
	margin: 1rem;
	right: .1rem;
	font-size: .9rem;
	font-weight: 300;
	color: var(--catppuccin-overlay1);
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
}

.collapse-open {
  @layer daisyui.l1.l2 {
    grid-template-rows: max-content 1fr;
    > .collapse-content {
      content-visibility: visible;
      min-height: fit-content;
      padding-bottom: 1rem;
      @supports not (content-visibility: visible) {
        visibility: visible;
      }
    }
  }
}

.td-list {
	gap: 1rem;
}
